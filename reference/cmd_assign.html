<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Assign Values Passed at the Command Line or Interactively — cmd_assign • command</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Assign Values Passed at the Command Line or Interactively — cmd_assign"><meta name="description" content="Assign values to names in the working environment.
The values are typically supplied through the command line,
but can be supplied interactively.
Specifying the inputs and outputs of scripts through the
command line can contribute to safter, more modular
workflows."><meta property="og:description" content="Assign values to names in the working environment.
The values are typically supplied through the command line,
but can be supplied interactively.
Specifying the inputs and outputs of scripts through the
command line can contribute to safter, more modular
workflows."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">command</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/a1_quickstart.html">Quick Start Guide</a></li>
    <li><a class="dropdown-item" href="../articles/a2_shell_script.html">Creating a Shell Script</a></li>
    <li><a class="dropdown-item" href="../articles/a3_makefile.html">Creating a Makefile</a></li>
    <li><a class="dropdown-item" href="../articles/a4_workflow.html">Modular Workflows for Data Analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bayesiandemography/command/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Assign Values Passed at the Command Line or Interactively</h1>
      <small class="dont-index">Source: <a href="https://github.com/bayesiandemography/command/blob/main/R/cmd_assign.R" class="external-link"><code>R/cmd_assign.R</code></a></small>
      <div class="d-none name"><code>cmd_assign.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Assign values to names in the working environment.
The values are typically supplied through the command line,
but can be supplied interactively.</p>
<p>Specifying the inputs and outputs of scripts through the
command line can contribute to safter, more modular
workflows.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cmd_assign</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Name-value pairs.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>cmd_assign()</code> is called
for its side effect, which is to create objects
in the global environment. However, <code>cmd_assign()</code>
also invisibly returns a named list of objects.</p>
    </div>
    <div class="section level2">
    <h2 id="types-of-session">Types of session<a class="anchor" aria-label="anchor" href="#types-of-session"></a></h2>
    <p><code>cmd_assign()</code> behaves differently depending
on how it whether it is called</p><ol><li><p>interactively, or</p></li>
<li><p>inside an R script that is run from the command line.</p></li>
</ol><p>For instance, if the code</p>
<p><code>cmd_assign(use_log = TRUE)</code></p>
<p>is run interactively, it creates an object
called <code>use_log</code> with value <code>TRUE</code>.</p>
<p>But if the same code is run inside a
script via the command</p>
<p><code>Rscript tidy_data.R --use_log=FALSE</code></p>
<p>it creates an object called <code>use_log</code>
with value <code>FALSE</code>.</p>
<p><code>cmd_assign()</code> is typically called interactively
when a workflow is being developed,
and through the command line when the
workflow has matured.</p>
    </div>
    <div class="section level2">
    <h2 id="matching-names-and-values">Matching names and values<a class="anchor" aria-label="anchor" href="#matching-names-and-values"></a></h2>
    <p>When used in a script called from the
command line, <code>cmd_assign()</code>
first matches named command line arguments,
and then matches unnamed command line arguments,
in the order in which they are supplied.</p>
<p>If, for instance, the script <code>person.R</code> contains
the lines</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">cmd_assign</span>(<span class="at">.data =</span> <span class="st">"raw_data.csv"</span>,</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>           <span class="at">max_age =</span> <span class="dv">85</span>,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>           <span class="at">.out =</span> <span class="st">"person.rds"</span>)</span></code></pre><p></p></div>
<p>and if <code>person.R</code> is run from the command line using</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>Rscript person.R raw_data.csv person.rds <span class="sc">--</span>max_age<span class="ot">=</span><span class="dv">100</span></span></code></pre><p></p></div>
<p>then <code>cmd_assign()</code> first matches named
command line argument <code>--max_age=100</code> to <code>cmd_assign() argument </code>max_age<code>, and then matches unnamed command line arguments </code>raw_data.csv<code>and</code>person.rds<code>to</code>cmd_assign()<code>arugments</code>.data<code>and</code>.out`.</p>
    </div>
    <div class="section level2">
    <h2 id="coercing-values-passed-at-the-command-line">Coercing values passed at the command line<a class="anchor" aria-label="anchor" href="#coercing-values-passed-at-the-command-line"></a></h2>
    <p>Values passed at the command line start out as
text strings. <code>cmd_assign()</code> coerces these text strings
to have the same class as the corresponding values
in the call to <code>cmd_assign()</code>. For instance,
if a script called <code>fit.R</code> contains
the lines</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">cmd_assign</span>(<span class="at">.data =</span> <span class="st">"cleaned.rds"</span>,</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>           <span class="at">impute =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>           <span class="at">date =</span> <span class="fu">as.Date</span>(<span class="st">"2026-01-01"</span>),</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>           <span class="at">.out =</span> <span class="st">"fit.rds"</span>)</span></code></pre><p></p></div>
<p>and if <code>fitted.R</code> is run from the command line using</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>Rscript fitted.R cleaned.rds fit.rds <span class="sc">--</span>impute<span class="ot">=</span><span class="cn">TRUE</span> <span class="sc">--</span>date<span class="ot">=</span><span class="dv">2025-01-01</span></span></code></pre><p></p></div>
<p>then <code>cmd_assign()</code> will create</p><ul><li><p>a character vector called <code>.data</code> with value "cleaned.rds",</p></li>
<li><p>a logical vector called <code>impute</code> with value <code>TRUE</code>,</p></li>
<li><p>a date vector called <code>date</code> with value <code>"2025-01-01"</code>, and</p></li>
<li><p>a character vector called <code>.out</code> with value `"fit.rds".</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p><a href="https://swcarpentry.github.io/r-novice-inflammation/05-cmdline.html" class="external-link">Command-Line Programs</a>
Introduction to Rscript</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="extract_shell.html">extract_shell()</a></code> Turn a <code>cmd_assign()</code> call into a shell command</p></li>
<li><p><code><a href="extract_make.html">extract_make()</a></code> Turn a <code>cmd_assign()</code> call into a Makefile rule</p></li>
<li><p><code><a href="shell_script.html">shell_script()</a></code> Create a shell script</p></li>
<li><p><code><a href="makefile.html">makefile()</a></code> Create a Makefile</p></li>
<li><p><a href="https://bayesiandemography.github.io/command/articles/quickstart.html">Quick Start Guide</a>
How to use <code>cmd_assign()</code></p></li>
<li><p><a href="https://bayesiandemography.github.io/command/articles/workflow.html">Modular Workflows for Data Analysis</a>
Safe, flexible data analysis workflows.</p></li>
<li><p>Base R function <code><a href="https://rdrr.io/r/base/commandArgs.html" class="external-link">commandArgs()</a></code> uses a more general,
lower-level approach to processing command line arguments.
(<code><a href="https://rdrr.io/r/base/commandArgs.html" class="external-link">commandArgs()</a></code> is called internally by <code>cmd_assign()</code>.)</p></li>
<li><p><a href="https://CRAN.R-project.org/package=littler" class="external-link">littler</a> Alternative to Rscript</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">cmd_assign</span><span class="op">(</span>.data <span class="op">=</span> <span class="st">"mydata.csv"</span>,</span></span>
<span class="r-in"><span>             n_iter <span class="op">=</span> <span class="fl">2000</span>,</span></span>
<span class="r-in"><span>             .out <span class="op">=</span> <span class="st">"results.rds"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Bryant.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

